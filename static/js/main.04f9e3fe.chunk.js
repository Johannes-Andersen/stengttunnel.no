(this.webpackJsonpstengttunnel=this.webpackJsonpstengttunnel||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(49),s=n.n(i),o=(n(142),n(143),n(27)),l=n(173),j=(n(144),n(167)),u=n(4),d=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){c(e.roads.map((function(e){return{key:e.urlFriendly,value:e.urlFriendly,text:e.roadName,content:Object(u.jsxs)(u.Fragment,{children:["\ud83d\udfe2 ",e.roadName]})}})))}),[e.roads]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{style:{textAlign:"center"},children:"Stengt tunnel"}),Object(u.jsx)(j.a,{placeholder:"Velg tunnel(er)",onChange:function(t,n){e.setFavorites(n.value),setTimeout((function(){"activeElement"in document&&document.activeElement.blur()}),100)},fluid:!0,search:!0,selection:!0,multiple:!0,closeOnChange:!0,value:e.favorites,disabled:!Boolean(r.length),loading:!Boolean(r.length),options:r})]})},b=n(111),h=n.n(b),O=n(124),x=n(112);!function(e){e.UserReported="Brukerskapt melding",e.StatensVegvesen="Statens Vegvesen"}(r||(r={}));var f=n(170),g=n(174),m=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=e.road.roadName;return Object(u.jsxs)(f.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:r,trigger:Object(u.jsx)(g.a,{children:"Er status feil?"}),children:[Object(u.jsxs)(f.a.Header,{children:["Er ",i," \xe5pen eller stengt?"]}),Object(u.jsx)(f.a.Content,{children:Object(u.jsxs)(f.a.Description,{children:[Object(u.jsx)("p",{children:"Basert p\xe5 din lokasjon ser vi at du er n\xe6rmere enn 20km fra tunnelen. S\xe5 du vet kanskje hva som er riktig?"}),Object(u.jsxs)("p",{children:["Er ",i," egentlig \xe5pen?"]})]})}),Object(u.jsxs)(f.a.Actions,{children:[Object(u.jsx)(g.a,{negative:!0,onClick:function(){return c(!1)},children:"Stengt"}),Object(u.jsx)(g.a,{positive:!0,onClick:function(){return c(!1)},children:"\xc5pen"})]})]})},v=n(171),p=n(169),w=n(172),k=n(168),S=n(166),y=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1],s=e.road.roadName;if(Object(a.useEffect)((function(){fetch(e.road.url).then((function(e){return e.json()})).then((function(t){return Object(x.a)(Object(x.a)({},t),e.road)})).then(i)}),[e.road]),!c)return Object(u.jsxs)(v.a,{fluid:!0,children:[Object(u.jsxs)(v.a.Content,{children:[Object(u.jsx)(p.a.Header,{as:"h2",children:s}),Object(u.jsx)(w.a,{children:Object(u.jsxs)(w.a.Header,{image:!0,children:[Object(u.jsx)(w.a.Line,{length:"full"}),Object(u.jsx)(w.a.Line,{length:"medium"}),Object(u.jsx)(w.a.Line,{}),Object(u.jsx)(w.a.Line,{length:"medium"})]})})]}),Object(u.jsx)(v.a.Content,{extra:!0,children:Object(u.jsx)(w.a,{children:Object(u.jsxs)(w.a.Paragraph,{children:[Object(u.jsx)(w.a.Line,{length:"full"}),Object(u.jsx)(w.a.Line,{}),Object(u.jsx)(w.a.Line,{}),Object(u.jsx)(w.a.Line,{length:"full"})]})})})]});var l=c,j=l.status,d=l.messages,b=l.statusMessage,f="https://stengttunnel.no/status/".concat(j,".png"),y=d.map((function(e,t){var n=new Intl.DateTimeFormat(["nb-no","da","sv","en-us","en-gb"],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a="".concat(n.format(new Date(e.validFrom))," - ").concat(n.format(new Date(e.validTo)));return Object(u.jsxs)(k.a.Event,{children:[Object(u.jsx)(S.a,{trigger:e.source===r.StatensVegvesen?Object(u.jsx)(k.a.Label,{image:"/vv_logo.png"}):Object(u.jsx)(k.a.Label,{icon:"user outline"}),content:e.source,inverted:!0}),Object(u.jsxs)(k.a.Content,{children:[Object(u.jsx)(k.a.Date,{content:a}),Object(u.jsx)(k.a.Summary,{children:e.message})]})]},"message-"+t)})),F=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.navigator).clipboard){e.next=4;break}return e.next=4,window.navigator.clipboard.writeText(window.location.href+"/veien");case 4:if(!t.share){e.next=7;break}return e.next=7,window.navigator.share({title:"Stengttunnel",text:b,url:window.location.href+"/veieeeen"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(v.a,{fluid:!0,children:[Object(u.jsx)(v.a.Content,{children:Object(u.jsxs)(p.a.Group,{children:[Object(u.jsx)(S.a,{on:["click"],trigger:Object(u.jsx)(g.a,{onClick:F,style:{position:"absolute",right:"10px"},icon:"external share",circular:!0,basic:!0}),content:"Kopiert linken",inverted:!0}),Object(u.jsxs)(p.a,{floated:"left",style:{margin:0},children:[Object(u.jsx)(p.a.Image,{style:{width:"auto"},size:"tiny",src:f}),Object(u.jsxs)(p.a.Content,{verticalAlign:"middle",children:[Object(u.jsx)(p.a.Header,{as:"h2",children:b}),Object(u.jsx)(p.a.Extra,{children:Object(u.jsx)(m,{road:c})})]})]})]})}),Object(u.jsx)(v.a.Content,{extra:!0,children:Object(u.jsx)(k.a,{children:y})})]})},F=function(e){return Object(u.jsx)("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8133897183984535","data-ad-slot":"5404963764","data-ad-format":"auto","data-full-width-responsive":"true"})},C=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],j=i[1],b=Object(a.useState)(null),h=Object(o.a)(b,2),O=h[0],x=h[1];return Object(a.useEffect)((function(){fetch("https://stengttunnel.no/roads.json").then((function(e){return e.json()})).then(r)}),[]),Object(a.useEffect)((function(){var e=window.location.pathname.split("/"),t=Object(o.a)(e,2)[1];Promise.resolve(localStorage.getItem("favorites")||"[]").then((function(e){return JSON.parse(e)})).then((function(e){return t&&-1===e.indexOf(t)&&n.find((function(e){return e.urlFriendly===t}))?(window.history.replaceState(null,"Stengt tunnel","/"),e.push(t)):t&&n.length>0&&x("Finner ikke tunnelen eller veien '"+t+"'"),e})).then(j).catch((function(){return j([])}))}),[n]),Object(a.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(s))}),[s]),Object(u.jsxs)(u.Fragment,{children:[O&&Object(u.jsxs)(l.a,{negative:!0,onDismiss:function(){x(null),window.history.replaceState(null,"Stengt tunnel","/")},children:[Object(u.jsx)(l.a.Header,{children:"404 Finner ikke siden"}),Object(u.jsx)("p",{children:O})]}),Object(u.jsxs)("div",{style:{margin:"15px auto",maxWidth:"640px"},children:[Object(u.jsx)(d,{roads:n,favorites:s,setFavorites:j}),n.filter((function(e){return-1!==s.indexOf(e.urlFriendly)})).reverse().map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)(y,{road:e}),Object(u.jsx)(F,{})]},"container-".concat(e.urlFriendly))}))]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),E(console.log)}},[[153,1,2]]]);
//# sourceMappingURL=main.04f9e3fe.chunk.js.map